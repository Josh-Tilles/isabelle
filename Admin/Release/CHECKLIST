Checklist for official releases
===============================

- check latest polyml, smlnj, jdk, scala, jedit;

- check Admin/components;

- test polyml-5.4.1, polyml-5.4.0, polyml-5.3.0, smlnj;

- test Isabelle/jEdit on single-core;

- test Isabelle/jEdit on airy device;

- test 'display_drafts' command;

- test "#!/usr/bin/env isabelle_scala_script";

- check HTML header of library;

- check ML sources: isabelle build -nal;

- run isabelle update_keywords;

- check ANNOUNCE, README, NEWS, COPYRIGHT, CONTRIBUTORS;

- check funny base directory, e.g. "Test 中国";

- diff NEWS wrt. last official release, which is read-only;

- update https://bitbucket.org/isabelle_project/isabelle-release/wiki/Home

- update https://bitbucket.org/isabelle_project/isabelle-website

- maintain doc/Contents;

- maintain Logics:
    ROOTS
    lib/html/library_index_content.template

- test separate compilation of Isabelle/Scala PIDE sources:
    Admin/build jars_test

- test Isabelle/jEdit:
    print buffer

- test contrib components:
    x86_64-linux without 32bit C/C++ libraries

- check "Handler catches all exceptions", using
  PolyML.Compiler.reportExhaustiveHandlers := true;


Repository fork
===============

- isabelle: finalize NEWS / CONTRIBUTORS -- proper headers for named release;

- isabelle-release: hg tag;

- isabelle: back to back to post-release mode -- after fork point;


Packaging
=========

- fully-automated packaging (requires Mac OS X):

  hg up -r DISTNAME && Admin/Release/build -r DISTNAME /home/isabelle/dist


Final release stage
===================

- various .hg/hgrc files:
  default = http://bitbucket.org/isabelle_project/isabelle-release
  default = ssh://hg@bitbucket.org/isabelle_project/isabelle-release

- isatest@macbroy28:hg-isabelle/.hg/hgrc
- isatest@macbroy28:devel-page/content/index.content


Post-release
============

- update /home/isabelle and /home/isabelle/html-data

