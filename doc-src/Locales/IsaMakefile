
## targets

default: Locales
images:
test: Locales

all: images test


## global settings

SRC = $(ISABELLE_HOME)/src
OUT = $(ISABELLE_OUTPUT)
LOG = $(OUT)/log
USEDIR = $(ISABELLE_TOOL) usedir -d false -D document


## Locales

Locales: $(LOG)/HOL-Locales.gz

HOL:
	@cd $(SRC)/HOL; $(ISABELLE_TOOL) make HOL

$(LOG)/HOL-Locales.gz: $(OUT)/HOL Locales/ROOT.ML Locales/Examples.thy \
  Locales/Examples1.thy Locales/Examples2.thy Locales/Examples3.thy \
  Locales/document/root.tex Locales/document/root.bib
	@$(USEDIR) $(OUT)/HOL Locales
	@rm -f Locales/document/isabelle.sty Locales/document/isabellesym.sty \
	 Locales/document/pdfsetup.sty


## clean

clean:
	@rm -f $(LOG)/HOL-Locales.gz
