
## targets

default: Group Nat
images: 
test: Group Nat

all: images test


## global settings

SRC = $(ISABELLE_HOME)/src
OUT = $(ISABELLE_OUTPUT)
LOG = $(OUT)/log
USEDIR = $(ISATOOL) usedir -d false -D document


## Group

Group: HOL $(LOG)/HOL-Group.gz

HOL:
	@cd $(SRC)/HOL; $(ISATOOL) make HOL

$(LOG)/HOL-Group.gz: $(OUT)/HOL Group/ROOT.ML Group/Group.thy \
  Group/Product.thy Group/Semigroups.thy
	@$(USEDIR) $(OUT)/HOL Group
	@rm -f Group/document/pdfsetup.sty Group/document/session.tex


## Nat

Nat: FOL $(LOG)/FOL-Nat.gz

FOL:
	@cd $(SRC)/FOL; $(ISATOOL) make FOL

$(LOG)/FOL-Nat.gz: $(OUT)/FOL Nat/ROOT.ML Nat/NatClass.ML Nat/NatClass.thy
	@$(USEDIR) $(OUT)/FOL Nat
	@rm -f Nat/document/*.sty Nat/document/session.tex


## clean

clean:
	@rm -f $(LOG)/HOL-Group.gz $(LOG)/FOL-Nat.gz
