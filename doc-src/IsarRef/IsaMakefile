
## targets

default: HOL-IsarRef HOLCF-IsarRef ZF-IsarRef
images: 
test: HOL-IsarRef HOLCF-IsarRef ZF-IsarRef

all: images test


## global settings

SRC = $(ISABELLE_HOME)/src
OUT = $(ISABELLE_OUTPUT)
LOG = $(OUT)/log

USEDIR = $(ISABELLE_TOOL) usedir -v true -i false -d false -C false -D document


## sessions

HOL-IsarRef: $(LOG)/HOL-IsarRef.gz

$(LOG)/HOL-IsarRef.gz: Thy/ROOT.ML ../antiquote_setup.ML Thy/Base.thy	\
  Thy/First_Order_Logic.thy Thy/Framework.thy Thy/Inner_Syntax.thy	\
  Thy/Preface.thy Thy/Outer_Syntax.thy Thy/Spec.thy Thy/Proof.thy	\
  Thy/Misc.thy Thy/Document_Preparation.thy Thy/Generic.thy		\
  Thy/HOL_Specific.thy Thy/Quick_Reference.thy Thy/Symbols.thy		\
  Thy/ML_Tactic.thy
	@$(USEDIR) -s IsarRef HOL Thy
	@rm -f Thy/document/isabelle.sty Thy/document/isabellesym.sty \
	 Thy/document/pdfsetup.sty Thy/document/session.tex


HOLCF-IsarRef: $(LOG)/HOLCF-IsarRef.gz

$(LOG)/HOLCF-IsarRef.gz: Thy/ROOT-HOLCF.ML ../antiquote_setup.ML	\
  Thy/Base.thy Thy/HOLCF_Specific.thy
	@$(USEDIR) -s IsarRef -f ROOT-HOLCF.ML HOLCF Thy
	@rm -f Thy/document/isabelle.sty Thy/document/isabellesym.sty \
	 Thy/document/pdfsetup.sty Thy/document/session.tex


ZF-IsarRef: $(LOG)/ZF-IsarRef.gz

$(LOG)/ZF-IsarRef.gz: Thy/ROOT-ZF.ML ../antiquote_setup.ML	\
  Thy/Base.thy Thy/ZF_Specific.thy
	@$(USEDIR) -s IsarRef -f ROOT-ZF.ML ZF Thy
	@rm -f Thy/document/isabelle.sty Thy/document/isabellesym.sty \
	 Thy/document/pdfsetup.sty Thy/document/session.tex


## clean

clean:
	@rm -f $(LOG)/HOL-IsarRef.gz $(LOG)/HOLCF-IsarRef.gz $(LOG)/ZF-IsarRef.gz
