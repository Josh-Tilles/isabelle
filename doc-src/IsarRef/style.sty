%% toc
\newcommand{\tocentry}[1]{\cleardoublepage\phantomsection\addcontentsline{toc}{chapter}{#1}
\@mkboth{\MakeUppercase{#1}}{\MakeUppercase{#1}}}

\setcounter{secnumdepth}{2} \setcounter{tocdepth}{2}

%% references
\newcommand{\secref}[1]{\S\ref{#1}}
\newcommand{\chref}[1]{chapter~\ref{#1}}
\newcommand{\Chref}[1]{Chapter~\ref{#1}}
\newcommand{\appref}[1]{appendix~\ref{#1}}
\newcommand{\Appref}[1]{Appendix~\ref{#1}}
\newcommand{\figref}[1]{figure~\ref{#1}}
\newcommand{\Figref}[1]{Figure~\ref{#1}}

%% ML
\newenvironment{mldecls}{\par\noindent\begingroup\def\isanewline{\\}\begin{tabular}{ll}}{\end{tabular}\medskip\endgroup}

%% Isar
\newcommand{\isasymBBAR}{{\,\newdimen{\tmpheight}\settoheight\tmpheight{\isacharbar}\rule{1pt}{\tmpheight}\,}}
\isafoldtag{noproof}\def\isafoldnoproof{~\isafold{proof}}

%% math
\newcommand{\isasymstrut}{\isamath{\mathstrut}}
\newcommand{\isasymvartheta}{\isamath{\,\theta}}
\newcommand{\isactrlvec}[1]{\emph{$\overline{#1}$}}
\renewcommand{\isadigit}[1]{\isamath{#1}}
\newcommand{\text}[1]{\mbox{#1}}

%% global style options
\pagestyle{headings}
\sloppy

\isabellestyle{it}
\newcommand{\isasymdash}{\mbox{-}}

\underscoreon
\newcommand{\setupunderscore}{\def\isacharunderscore{\_}\def\isacharunderscorekeyword{\_}}
\setupunderscore

\makeatletter
\def\rail@termfont{\isabellestyle{tt}\setupunderscore}
\def\rail@nontfont{\isabellestyle{it}\setupunderscore}
\def\rail@namefont{\isabellestyle{it}\setupunderscore}
\makeatother