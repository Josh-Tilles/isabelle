#
# IsaMakefile to build the examples for the FOL and ZF manual
#

## targets

default: ZF-examples
images:
test:
all: default


## global settings

SRC = $(ISABELLE_HOME)/src
OUT = $(ISABELLE_OUTPUT)
LOG = $(OUT)/log
USEDIR = @$(ISABELLE_TOOL) usedir -m brackets -i true -d "" -D document


## ZF

ZF:
	@cd $(SRC)/ZF; $(ISABELLE_TOOL) make ZF


## ZF-examples

ZF-examples: ZF $(LOG)/ZF-examples.gz

$(LOG)/ZF-examples.gz: $(OUT)/ZF \
	FOL_examples.thy  IFOL_examples.thy ZF_examples.thy If.thy ROOT.ML 
	@$(USEDIR) -s examples $(OUT)/ZF .
	@rm -f document/isabelle.sty
	@rm -f document/isabellesym.sty
	@rm -f document/pdfsetup.sty
	@rm -f document/session.tex

## clean

clean:
	@rm -f $(LOG)/ZF-examples.gz document/*.tex 
