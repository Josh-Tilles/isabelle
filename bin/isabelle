#!/usr/bin/env bash
#
# $Id$
# Author: Markus Wenzel, TU Muenchen
#
# Smart selection of isabelle-process versus isabelle-interface.

if [ -L "$0" ]; then
  TARGET="$(LC_ALL=C ls -l "$0" | sed 's/.* -> //')"
  exec $(cd "$(dirname "$0")"; cd "$(dirname "$TARGET")"; pwd)/$(basename "$TARGET") "$@"
fi

THIS=$(cd "$(dirname "$0")"; pwd)
NAME="$(basename "$0")"

case "$NAME" in
  I*)
    PRG=isabelle-interface
    ;;
  i*)
    PRG=isabelle-process
    ;;
esac

exec "$THIS/$PRG" "$@"
