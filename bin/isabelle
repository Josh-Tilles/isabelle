#!/usr/bin/env bash
#
# $Id$
# Author: Markus Wenzel, TU Muenchen
#
# Smart selection of isabelle-process versus isabelle-interface.

THIS="$0"
while [ -L "$THIS" ]; do
    THIS="$(dirname "$THIS")/$(LC_ALL=C ls -l "$THIS" | sed 's/.* -> //')"
done
THIS="$(cd "$(dirname "$(readlink -f "$THIS")")"; pwd)"
NAME="$(basename "$0")"

case "$NAME" in
  I*)
    PRG=isabelle-interface
    ;;
  i*)
    PRG=isabelle-process
    ;;
esac

exec "$THIS/$PRG" "$@"
