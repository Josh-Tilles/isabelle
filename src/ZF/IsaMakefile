#
# $Id$
#
# IsaMakefile for ZF
#

## targets

default: ZF
images: ZF

#Note: keep targets sorted
test: ZF-AC ZF-Coind ZF-IMP ZF-Induct ZF-Resid ZF-UNITY ZF-ex
all: images test


## global settings

SRC = $(ISABELLE_HOME)/src
OUT = $(ISABELLE_OUTPUT)
LOG = $(OUT)/log


## ZF

ZF: FOL $(OUT)/ZF

FOL:
	@cd $(SRC)/FOL; $(ISATOOL) make FOL

$(OUT)/ZF: $(OUT)/FOL AC.ML AC.thy Arith.ML Arith.thy ArithSimp.ML	\
  ArithSimp.thy Bool.ML Bool.thy Cardinal.ML Cardinal.thy		\
  CardinalArith.ML CardinalArith.thy Cardinal_AC.ML Cardinal_AC.thy	\
  Datatype.ML Datatype.thy Epsilon.ML Epsilon.thy Finite.ML Finite.thy	\
  Fixedpt.ML Fixedpt.thy Inductive.ML Inductive.thy InfDatatype.ML	\
  InfDatatype.thy Integ/Bin.ML Integ/Bin.thy Integ/EquivClass.ML	\
  Integ/EquivClass.thy Integ/Int.ML Integ/Int.thy Integ/IntArith.thy	\
  Integ/IntDiv.ML Integ/IntDiv.thy Integ/int_arith.ML			\
  Integ/twos_compl.ML Let.ML Let.thy List.ML List.thy Main.ML Main.thy	\
  Main_ZFC.ML Main_ZFC.thy	\
  Nat.ML Nat.thy Order.ML Order.thy OrderArith.ML OrderArith.thy	\
  OrderType.ML OrderType.thy Ordinal.ML Ordinal.thy Perm.ML Perm.thy	\
  QPair.ML QPair.thy QUniv.ML QUniv.thy ROOT.ML Rel.ML Rel.thy Sum.ML	\
  Sum.thy Tools/cartprod.ML Tools/datatype_package.ML			\
  Tools/ind_cases.ML Tools/induct_tacs.ML Tools/inductive_package.ML	\
  Tools/numeral_syntax.ML Tools/primrec_package.ML Tools/typechk.ML	\
  Trancl.ML Trancl.thy Univ.ML Univ.thy Update.ML Update.thy WF.ML	\
  WF.thy ZF.ML ZF.thy Zorn.ML Zorn.thy arith_data.ML domrange.ML	\
  domrange.thy equalities.ML equalities.thy func.ML func.thy		\
  ind_syntax.ML mono.ML mono.thy pair.ML pair.thy simpdata.ML		\
  subset.ML subset.thy thy_syntax.ML upair.ML upair.thy
	@$(ISATOOL) usedir -b -r $(OUT)/FOL ZF


## ZF-AC

ZF-AC: ZF $(LOG)/ZF-AC.gz

$(LOG)/ZF-AC.gz: $(OUT)/ZF \
  AC/AC15_WO6.ML AC/AC15_WO6.thy AC/AC16_WO4.ML AC/AC16_WO4.thy \
  AC/AC16_lemmas.ML AC/AC16_lemmas.thy AC/AC17_AC1.ML AC/AC17_AC1.thy \
  AC/AC18_AC19.ML AC/AC18_AC19.thy AC/AC1_WO2.ML \
  AC/AC1_WO2.thy AC/AC7_AC9.ML AC/AC_Equiv.ML \
  AC/AC_Equiv.thy AC/Cardinal_aux.ML AC/Cardinal_aux.thy AC/DC.ML \
  AC/DC.thy AC/DC_lemmas.ML AC/DC_lemmas.thy AC/HH.ML AC/HH.thy \
  AC/Hartog.ML AC/Hartog.thy AC/ROOT.ML AC/WO1_AC.ML AC/WO1_AC.thy \
  AC/WO1_WO7.ML AC/WO1_WO7.thy AC/WO2_AC16.ML \
  AC/WO2_AC16.thy AC/WO6_WO1.ML AC/WO6_WO1.thy AC/WO_AC.ML AC/WO_AC.thy \
  AC/recfunAC16.ML AC/recfunAC16.thy AC/rel_is_fun.ML AC/rel_is_fun.thy
	@$(ISATOOL) usedir $(OUT)/ZF AC


## ZF-Coind

ZF-Coind: ZF $(LOG)/ZF-Coind.gz

$(LOG)/ZF-Coind.gz: $(OUT)/ZF Coind/BCR.thy Coind/Dynamic.thy \
  Coind/ECR.ML Coind/ECR.thy Coind/Language.thy Coind/MT.ML Coind/MT.thy \
  Coind/Map.ML Coind/Map.thy Coind/ROOT.ML Coind/Static.ML \
  Coind/Static.thy Coind/Types.ML Coind/Types.thy Coind/Values.ML \
  Coind/Values.thy
	@$(ISATOOL) usedir $(OUT)/ZF Coind


## ZF-IMP

ZF-IMP: ZF $(LOG)/ZF-IMP.gz

$(LOG)/ZF-IMP.gz: $(OUT)/ZF IMP/Com.ML IMP/Com.thy IMP/Denotation.ML \
  IMP/Denotation.thy IMP/Equiv.ML IMP/Equiv.thy IMP/ROOT.ML
	@$(ISATOOL) usedir $(OUT)/ZF IMP


## ZF-Resid

ZF-Resid: ZF $(LOG)/ZF-Resid.gz

$(LOG)/ZF-Resid.gz: $(OUT)/ZF Resid/ROOT.ML Resid/Confluence.thy \
  Resid/Redex.thy Resid/Reduction.thy Resid/Residuals.thy \
  Resid/Substitution.thy 
	@$(ISATOOL) usedir $(OUT)/ZF Resid


## ZF-UNITY

ZF-UNITY: ZF $(LOG)/ZF-UNITY.gz

$(LOG)/ZF-UNITY.gz: $(OUT)/ZF UNITY/ROOT.ML \
  UNITY/Comp.ML UNITY/Comp.thy UNITY/Constrains.ML UNITY/Constrains.thy \
  UNITY/FP.ML UNITY/FP.thy UNITY/Guar.ML UNITY/Guar.thy \
  UNITY/Mutex.ML UNITY/Mutex.thy UNITY/State.ML UNITY/State.thy \
  UNITY/SubstAx.ML UNITY/SubstAx.thy UNITY/UNITY.ML UNITY/UNITY.thy \
  UNITY/UNITYMisc.ML UNITY/UNITYMisc.thy UNITY/Union.ML UNITY/Union.thy \
  UNITY/WFair.ML UNITY/WFair.thy
	@$(ISATOOL) usedir $(OUT)/ZF UNITY


## ZF-Induct

ZF-Induct: ZF $(LOG)/ZF-Induct.gz

$(LOG)/ZF-Induct.gz: $(OUT)/ZF  Induct/ROOT.ML Induct/Acc.thy \
  Induct/Binary_Trees.thy Induct/Brouwer.thy Induct/Comb.thy \
  Induct/Datatypes.thy Induct/FoldSet.ML Induct/FoldSet.thy \
  Induct/ListN.thy Induct/Multiset.ML Induct/Multiset.thy Induct/Mutil.thy \
  Induct/Ntree.thy Induct/Primrec.thy Induct/PropLog.thy Induct/Rmap.thy \
  Induct/Term.thy Induct/Tree_Forest.thy Induct/document/root.tex
	@$(ISATOOL) usedir $(OUT)/ZF Induct


## ZF-ex

ZF-ex: ZF $(LOG)/ZF-ex.gz

$(LOG)/ZF-ex.gz: $(OUT)/ZF ex/ROOT.ML \
  ex/BinEx.thy ex/CoUnit.thy ex/Commutation.ML ex/Commutation.thy \
  ex/Limit.ML ex/Limit.thy ex/LList.ML ex/LList.thy ex/Primes.ML ex/Primes.thy \
  ex/NatSum.ML ex/NatSum.thy ex/Ramsey.ML ex/Ramsey.thy ex/misc.thy
	@$(ISATOOL) usedir $(OUT)/ZF ex


## clean

clean:
	@rm -f $(OUT)/ZF $(LOG)/ZF.gz $(LOG)/ZF-AC.gz $(LOG)/ZF-Coind.gz \
	  $(LOG)/ZF-ex.gz $(LOG)/ZF-IMP.gz $(LOG)/ZF-Resid.gz \
	  $(LOG)/ZF-UNITY.gz
